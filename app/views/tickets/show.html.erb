<!--
<META HTTP-EQUIV="REFRESH" CONTENT="URL= https://spring2016-seniorproject-vmeln009.c9users.io/tickets/show/">
-->

<h1>Your Tickets </h1>
<!--
<p>Find me in app/views/tickets/show.html.erb</p>
-->
<head>
    
<!-- <meta http-equiv="refresh" content="0;url=https://spring2016-seniorproject-vmeln009.c9users.io/tickets/show"/> -->
    
</head>

<div>
	<ul class = "pager">
	   <li class = "previous">
	   		<a href = "/pages/welcome" class="beehivelybtn">&larr; Home </a>
	   	</li>
	</ul>
</div>
<!-- show.html.erb
<div>
    
    <%= @displayTicket %>
    <% @displayTicket['tickets'].each do |tickets| %>
        <p>Ticket Number: <%= tickets['id'] %> </p>
        <p> Subject: <%= tickets['subject'] %> </p>
        <p> This is a <%= tickets['status'] %> ticket
        of type  <%= tickets['type'] %>
        with a <%= tickets['priority'] %> priority </p>
        <p> Submition date: <%= tickets['created_at'] %>, 
        Last Updated: <%= tickets['updated_at'] %> </p>
        <p> Description: <%= tickets['description'] %> </p>
        
        
        <br>
    <%end %>
</div>

-->
<!-- Resource -->
<!-- http://www.webdeveloper.com/forum/showthread.php?93885-Force-Refresh-Upon-Page-Load -->
<!-- http://stackoverflow.com/questions/30876402/datatables-only-loads-on-page-refresh -->
<!-- http://solidfoundationwebdev.com/blog/posts/server-side-validation-with-angular-js-rails -->
<!-- http://jsfiddle.net/wenyi/e3nk137y/36/ || https://www.datatables.net/reference/api/ -->
<!--
<div class="alert alert-success" id="eventsResult">
    Here is the result of event.
</div>
-->

<body onload="checkReloadCount()">

<!-- For Other Table Class and Table Info:  class="display row-border stripe cell-border" id="ticket_lists" data-height="300" cellspacing="0" width="100%" data-toggle="table" data-pagination="true" data-search="true" data-show-refresh="true" data-show-toggle="true" data-show-columns="true" data-toolbar="#toolbar"-->
<!-- table table-hover row-border stripe display compact cell-border -->
<table id="ticket_lists" class="table display" cellspacing="0" width="100%">
<thead>
  <tr>
    <!--
    <th data-field="state" data-checkbox="true"></th>
    <th data-field ="Ticket Number"> Ticket Number </th></th>
    <th data-field ="Subject">Subject</th>
    <th data-field ="Status">Status</th>
    <th data-field ="Type">Type</th>
    <th data-field ="Priority">Priority</th>
    <th data-field ="Submission">Submission</th>
    <th data-field ="Updated">Updated</th>
    <th data-field ="Description">Description</th>
    -->
    
    <th> Ticket Number </th></th>
    <th>Subject</th>
    <th>Status</th>
    <th>Type</th>
    <th>Priority</th>
    <th>Submission</th>
    <th>Updated</th>
    <th>Description</th>
    
  </tr>
</thead>
<tbody>

  <% @displayTicket['tickets'].each do |tickets| %>
    <tr>
      <td> <%= tickets['id'] %> </td>
      <td> <%= tickets['subject'] %> </td>
      <td> <%= tickets['status'] %> </td>
      <td> <%= tickets['type'] %> </td>
      <td> <%= tickets['priority'] %> </td>
      <td> <%= tickets['created_at'] %> </td>
      <td> <%= tickets['updated_at'] %> </td>
      <td><%= tickets['description'] %></td>
    </tr>
  <% end %>
</tbody>
</table>
</body>
<div>
	<ul class = "pager">
	   <li class = "previous">
	   		<a href = "/pages/welcome" class="beehivelybtn">&larr; Home </a>
	   	</li>
	</ul>
</div>
<br>

	<script type="text/javascript" language="javascript" src="https://code.jquery.com/jquery-1.12.0.min.js">
	</script>
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.10.11/js/jquery.dataTables.min.js">
	</script>
	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.11/css/jquery.dataTables.min.css">


<!-- table table-hover row-border stripe display compact cell-border -->
<script>
$(document).ready(function() {
  $('#ticket_lists').DataTable();
});

</script>

<!-- Possible Fields -->
<!-- 

â€œurl"
"id"
"external_id"
"Via"
"created_at"
"updated_at"
"type"
"subject"
"raw_subject"
"description"
"priority"
"status"
"recipient" 
"requester_id"
"submitter_id"
"assignee_id"
"organization_id"
"group_id"
"collaborator_ids"
"forum_topic_id"
"problem_id"
"Has_incidents"
"due_at"
"tags"
"custom_fields"
"satisfaction_rating"
"sharing_agreement_ids"
"fields" 
"brand_id"

-->

<!-- Resource To Use: http://www.nikolatodorovic.com/nikolas-blog/rails-4-datatables-110-ajax -->
<!-- Could Also Look Into: https://github.com/rweng/jquery-datatables-rails -->

<Style>
    
.panel-default>.panel-heading {
    background-color: #e6b800;
}
	
.panel-default{
	box-shadow: 10px 10px 5px #808080;
}

.panel-heading{
	box-shadow: 10px 10px 5px #808080;
}
    
</Style>